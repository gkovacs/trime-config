# Rime schema
# encoding: utf-8

schema:
  schema_id: clover_show_jyutping
  name: "æ˜¾ç¤ºç²¤æ‹¼"
  version: "1.0.0"
  author:
    - fkxxyz - https://www.fkxxyz.com
  description: |
    ç”±ğŸ€ï¸å››å¶è‰äº²è‡ªå®šåˆ¶ï¼Œç‰¹ç‚¹ï¼š
      1. ç»“åˆæœç‹—è¾“å…¥æ³•çš„è¾“å…¥ä¹ æƒ¯
      2. é»˜è®¤å¼€å¯ emoji è¡¨æƒ…æ”¯æŒ
      3. åŠ ä¸Šå¾ˆå¤šç‰¹æ®Šç¬¦å·çš„è¾“å…¥æ”¯æŒ
      4. ç¹ç®€åˆ‡æ¢æ”¯æŒ
      5. è®¸å¤šæ™ºèƒ½çº é”™
  dependencies:
    - terra_pinyin_simp

switches:
  - name: ascii_mode
    reset: 0
    states: [ ä¸­, è‹± ]
  - name: full_shape
    states: [ åŠè§’, å…¨è§’ ]
  - options: [zh_simp, zh_tw ]
    states: [ ç®€, ç¹ ]
    reset: 0
  - name: ascii_punct
    states: [ ã€‚ï¼Œ, ï¼ï¼Œ ]

engine:
  processors:
    - ascii_composer
    - recognizer
    - key_binder
    - speller
    - punctuator
    - selector
    - navigator
    - express_editor
  segmentors:
    - ascii_segmentor
    - matcher
    - abc_segmentor
    - affix_segmentor@putonghua_to_jyutping_lookup
    - affix_segmentor@jyutping_lookup
    - punct_segmentor
    - fallback_segmentor
  translators:
    - punct_translator
    - script_translator
    - reverse_lookup_translator
    - script_translator@jyutping_lookup
  filters:
    - simplifier
    - simplifier@zh_simp
    - simplifier@zh_tw
    - uniquifier
    - reverse_lookup_filter@putonghua_to_jyutping_reverse_lookup

zh_simp:
  option_name: zh_simp
  opencc_config: t2s.json
  tips: none

zh_tw:
  option_name: zh_tw
  opencc_config: s2tw.json
  tips: none

speller:
  alphabet: zyxwvutsrqponmlkjihgfedcba
  delimiter: " '"
  algebra:
    # åŸºç¡€
    - abbrev/^([a-z]).+$/$1/
    - abbrev/^([zcs]h).+$/$1/
    
    # è¡¥å…¨
    - derive/([dtngkhrzcs])o(u|ng)$/$1o/   # o = ou; o = ong
    - derive/ong$/on/      # on = ong
    - derive/^ding$/din/     # din = ding
    
    # å¤„ç† v å’Œ u
    - derive/^([nl])ue$/$1ve/   # nve = nue; lve = lue
    - derive/^([jqxy])u/$1v/    # v = u; v = u
    
    # æ™ºèƒ½çº é”™
    - derive/ao$/oa/       # oa = ao
    - derive/([iu])a(o|ng?)$/a$1$2/   # aio = iao; aing = iang; aung = uang
    - derive/([aeiou])ng$/$1gn/   # gn = ng
    - derive/un$/uen/    # uen = un
    - derive/ui$/uei/    # uei = ui
    - derive/iu$/iou/    # iou = ui
    - derive/tie$/tei/    # tei = tie
    - derive/i$/ii/      # ii = i  # i ä¸å°å¿ƒæŒ‰ä¸¤ä¸‹
    - derive/u$/uu/      # ui = u  # u ä¸å°å¿ƒæŒ‰ä¸¤ä¸‹

menu:
  alternative_select_keys: "123456789"
  page_size: 9

translator:
  dictionary: extended
  preedit_format:
    - xform/([nl])v/$1Ã¼/
    - xform/([nl])ue/$1Ã¼e/
    - xform/([jqxy])v/$1u/

grammar:
  language: zh-hans-t-essay-bgw

punctuator:
  import_preset: symbols
  full_shape:
    "`": "ï½€"
    "~": "ï½"
    "!": "ï¼"
    "@": "ï¼ "
    "#": "ï¼ƒ"
    "$": "ï¿¥"
    "%": "ï¼…"
    "^": "â€¦â€¦"
    "&": "ï¼†"
    "*": "Ã—"
    "(": "ï¼ˆ"
    ")": "ï¼‰"
    "_": "â€”â€”"
    "+": "ï¼‹"
    "-": "ï¼"
    "=": "ï¼"
    "[": "ã€"
    "]": "ã€‘"
    "{": "ï½›"
    "}": "ï½"
    "|": "ï½œ"
    "\\": "ã€"
    "/": "ã€"
    ";": "ï¼›"
    "'": "â€˜"
    ",": "ï¼Œ"
    ".": "ã€‚"
    "<": "ã€Š"
    ">": "ã€‹"
    "?": "ï¼Ÿ"
  half_shape:
    "`": "Â·"
    "~": "ï½"
    "!": "ï¼"
    "@": "@"
    "#": "#"
    "$": "ï¿¥"
    "%": "%"
    "^": "â€¦â€¦"
    "&": "&"
    "*": "Ã—"
    "(": "ï¼ˆ"
    ")": "ï¼‰"
    "_": "â€”â€”"
    "+": "+"
    "-": "-"
    "=": "="
    "[": "ã€"
    "]": "ã€‘"
    "{": "ï½›"
    "}": "ï½"
    "|": "ï½œ"
    "\\": "ã€"
    "/": "ã€"
    ";": "ï¼›"
    "'": "â€™"
    ",": "ï¼Œ"
    ".": "ã€‚"
    "<": "ã€Š"
    ">": "ã€‹"
    "?": "ï¼Ÿ"

ascii_composer:
  import_preset: default
  good_old_caps_lock: true
  switch_key:
    Shift_L: commit_code   # å·¦ Shift åˆ‡æ¢ç›´æ¥ä¸Šå±å­—æ¯
    Shift_R: commit_code   # å³ Shift åˆ‡æ¢ç›´æ¥ä¸Šå±å­—æ¯
    Control_L: noop
    Control_R: noop
    Caps_Lock: noop
    Eisu_toggle: clear

putonghua_to_jyutping_lookup:
  tag: putonghua_to_jyutping_lookup
  prefix: ""  # ç¨ç”¨jyutping_lookupåæŸ¥åœ¨åæŸ¥éµã€Œ`ã€ä¹‹å¾Œå†éµå…¥ã€”å¤§å¯«ã€•ã€ŒJã€
  suffix: ""
  dictionary: extended

putonghua_to_jyutping_reverse_lookup:
  tags: [ putonghua_to_jyutping_lookup ]
  dictionary: jyut6ping3_simp_nospaces
  spelling_hints: 10
  overwrite_comment: true

jyutping_lookup:
  spelling_hints: 10
  tag: jyutping_lookup
  prefix: "v"  # ç¨ç”¨jyutping_lookupåæŸ¥åœ¨åæŸ¥éµã€Œ`ã€ä¹‹å¾Œå†éµå…¥ã€”å¤§å¯«ã€•ã€ŒJã€
  suffix: ""
  dictionary: jyut6ping3_simp
  tips: ã€ç²¤ã€‘

recognizer:
  import_preset: default
  patterns:
    putonghua_to_jyutping_lookup: "^[a-z]*$"
    jyutping_lookup: "^v[a-z]*$"
